<%-include("header.ejs")%>

<div class="container py-5" style="margin-top: 100px;">
  <div class="row g-4">
    <div class="col-lg-4">
      <div class="card border-0 shadow-sm rounded-4 p-4 text-center">
        <div class="position-relative d-inline-block mx-auto mb-3">
          <img src="/images/default-avatar.jpg" class="rounded-circle border" width="120" height="120" id="profile-preview">
          <label for="upload-photo" class="btn btn-sm btn-primary position-absolute bottom-0 end-0 rounded-circle p-2">
            <i class="fas fa-camera"></i>
          </label>
          <input type="file" id="upload-photo" hidden accept="image/*">
        </div>
        <h4 class="fw-bold mb-1">John Doe</h4>
        <p class="text-muted small">Member since Dec 2025</p>
        <hr class="my-4">
        <div class="list-group list-group-flush text-start">
          <a href="/my_orders" class="list-group-item list-group-item-action border-0 py-3"><i class="fas fa-shopping-bag me-2"></i> My Orders</a>
          <a href="/edit-profile" class="list-group-item list-group-item-action border-0 py-3 active rounded-3"><i class="fas fa-user-edit me-2"></i> Edit Profile</a>
          <a href="/change_password" class="list-group-item list-group-item-action border-0 py-3"><i class="fas fa-lock me-2"></i> Password & Security</a>
        </div>
      </div>
    </div>

    <div class="col-lg-8">
      <div class="card border-0 shadow-sm rounded-4 p-4">
        <h3 class="fw-bold mb-4">Edit Profile</h3>
        <form action="/update-profile" method="POST">
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label fw-semibold">Full Name</label>
              <input type="text" class="form-control py-2" value="John Doe" name="fullname">
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Email Address</label>
              <input type="email" class="form-control py-2" value="johndoe@example.com" disabled>
              <small class="text-muted">Email cannot be changed.</small>
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Phone Number</label>
              <input type="text" class="form-control py-2" value="+91 8180058023" name="phone">
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Gender</label>
              <select class="form-select py-2">
                <option selected>Male</option>
                <option>Female</option>
                <option>Other</option>
              </select>
            </div>
            <div class="col-12 mt-4">
              <h5 class="fw-bold mb-3 border-bottom pb-2">Address Details</h5>
            </div>
            <div class="col-12">
              <label class="form-label fw-semibold">Street Address</label>
              <input type="text" class="form-control py-2" placeholder="Building, Street, Area">
            </div>
            <div class="col-md-4">
              <label class="form-label fw-semibold">City</label>
              <input type="text" class="form-control py-2">
            </div>
            <div class="col-md-4">
              <label class="form-label fw-semibold">State</label>
              <input type="text" class="form-control py-2">
            </div>
            <div class="col-md-4">
              <label class="form-label fw-semibold">Pincode</label>
              <input type="text" class="form-control py-2">
            </div>
          </div>

          <div class="mt-5 d-flex gap-2">
            <button type="submit" class="btn btn-primary px-4 py-2 rounded-pill">Save Changes</button>
            <button type="reset" class="btn btn-outline-secondary px-4 py-2 rounded-pill">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<%-include("footer")%>
<style>/* Profile Page Custom Styles */
.form-control:focus, .form-select:focus {
  border-color: #ff6b6b;
  box-shadow: 0 0 0 0.25rem rgba(255, 107, 107, 0.1);
}

.list-group-item.active {
  background-color: #ff6b6b !important;
  border-color: #ff6b6b !important;
}

.list-group-item {
  transition: all 0.3s ease;
  font-weight: 500;
}

.list-group-item:hover:not(.active) {
  background-color: #fff5f5;
  color: #ff6b6b;
  padding-left: 1.5rem; /* Little slide animation */
}

.card {
  transition: transform 0.3s ease;
}

/* Photo Upload Preview Styling */
#profile-preview {
  object-fit: cover;
  background-color: #f8f9fa;
}</style>
<script>
    document.getElementById('upload-photo').addEventListener('change', function(event) {
  const file = event.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      document.getElementById('profile-preview').src = e.target.result;
    }
    reader.readAsDataURL(file);
  }
});
</script>